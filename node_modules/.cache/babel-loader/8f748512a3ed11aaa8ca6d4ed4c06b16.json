{"remainingRequest":"/Users/aysegul.kaya/Desktop/carts-summary/bymn-fe-challenge/node_modules/babel-loader/lib/index.js!/Users/aysegul.kaya/Desktop/carts-summary/bymn-fe-challenge/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/aysegul.kaya/Desktop/carts-summary/bymn-fe-challenge/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/aysegul.kaya/Desktop/carts-summary/bymn-fe-challenge/src/components/basket.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/aysegul.kaya/Desktop/carts-summary/bymn-fe-challenge/src/components/basket.vue","mtime":1640119269698},{"path":"/Users/aysegul.kaya/Desktop/carts-summary/bymn-fe-challenge/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/aysegul.kaya/Desktop/carts-summary/bymn-fe-challenge/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/aysegul.kaya/Desktop/carts-summary/bymn-fe-challenge/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/aysegul.kaya/Desktop/carts-summary/bymn-fe-challenge/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdCYXNrZXQnLAogIHByb3BzOiBbJ2N1cnJlbmN5J10sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG9sZFF1YW50aXR5VmFsdWU6ICIiCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGNhcnQ6IGZ1bmN0aW9uIGNhcnQoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5jYXJ0OwogICAgfSwKICAgIHNlbGVjdGVkQ2FydDogZnVuY3Rpb24gc2VsZWN0ZWRDYXJ0KCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuc2VsZWN0ZWRDYXJ0OwogICAgfSwKICAgIHN1bW1hcnk6IGZ1bmN0aW9uIHN1bW1hcnkoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5zdW1tYXJ5OwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJnZXRDYXJ0Iik7CiAgfSwKICBtZXRob2RzOiB7CiAgICBvbGRTZWxlY3Rpb25RdWFudGl0eTogZnVuY3Rpb24gb2xkU2VsZWN0aW9uUXVhbnRpdHkob2xkVmFsdWUpIHsKICAgICAgdGhpcy5vbGRRdWFudGl0eVZhbHVlID0gb2xkVmFsdWUudGFyZ2V0LnZhbHVlOwogICAgfSwKICAgIHNlbGVjdGVkUXVhbnRpdHk6IGZ1bmN0aW9uIHNlbGVjdGVkUXVhbnRpdHkoZSwgaXRlbSkgewogICAgICB2YXIgdmFsdWUgPSBlLnRhcmdldC52YWx1ZTsKICAgICAgdmFyIHBlck9yaWdpbmFsUHJpY2UgPSBpdGVtLk9yaWdpbmFsUHJpY2UgLyB0aGlzLm9sZFF1YW50aXR5VmFsdWU7CiAgICAgIHZhciBwZXJTYWxlUHJpY2UgPSBpdGVtLlNhbGVQcmljZSAvIHRoaXMub2xkUXVhbnRpdHlWYWx1ZTsKICAgICAgdmFyIHBlckRpc2NvdW50QW1vdW50ID0gaXRlbS5EaXNjb3VudEFtb3VudCAvIHRoaXMub2xkUXVhbnRpdHlWYWx1ZTsKICAgICAgLyoqIHVwZGF0ZSBiYXNrZXQgcHJpY2UqLwoKICAgICAgaXRlbS5PcmlnaW5hbFByaWNlID0gcGVyT3JpZ2luYWxQcmljZSAqIHZhbHVlOwogICAgICBpdGVtLlNhbGVQcmljZSA9IHBlclNhbGVQcmljZSAqIHZhbHVlOwogICAgICBpdGVtLkRpc2NvdW50QW1vdW50ID0gcGVyRGlzY291bnRBbW91bnQgKiB2YWx1ZTsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goInNlbGVjdGVkQ2FydCIsIGl0ZW0pOwogICAgICB0aGlzLnVwZGF0ZVN1bW1hcnkodmFsdWUsIHBlck9yaWdpbmFsUHJpY2UsIHBlclNhbGVQcmljZSwgcGVyRGlzY291bnRBbW91bnQpOwogICAgfSwKICAgIHVwZGF0ZVN1bW1hcnk6IGZ1bmN0aW9uIHVwZGF0ZVN1bW1hcnkobmV3UXVhbnRpdHksIHBlck9yaWdpbmFsLCBwZXJTYWxlLCBwZXJEaXNjb3VudCwgaXNBZnRlckRlbGV0ZSkgewogICAgICB2YXIgVG90YWxBbW91bnQgPSB0aGlzLnN1bW1hcnkuVG90YWxBbW91bnQ7CiAgICAgIHZhciBEaXNjb3VudEFtb3VudCA9IHRoaXMuc3VtbWFyeS5EaXNjb3VudEFtb3VudDsKICAgICAgdmFyIEdlbmVyYWxUb3RhbEFtb3VudCA9IHRoaXMuc3VtbWFyeS5HZW5lcmFsVG90YWxBbW91bnQ7CiAgICAgIHZhciB3b1NlbGVjdGVkUHJvZHVjdEFtb3VudCA9IDA7CiAgICAgIHZhciB3b1NlbGVjdGVkUHJvZHVjdERpc2NvdW50ID0gMDsKICAgICAgdmFyIHdvU2VsZWN0ZWRQcm9kdWN0R2VuZXJhbFRvdGFsID0gMDsKCiAgICAgIGlmIChpc0FmdGVyRGVsZXRlKSB7CiAgICAgICAgdGhpcy5zdW1tYXJ5LlRvdGFsQW1vdW50ID0gVG90YWxBbW91bnQgLSBwZXJPcmlnaW5hbDsKICAgICAgICB0aGlzLnN1bW1hcnkuRGlzY291bnRBbW91bnQgPSBEaXNjb3VudEFtb3VudCAtIHBlckRpc2NvdW50OwogICAgICAgIHRoaXMuc3VtbWFyeS5HZW5lcmFsVG90YWxBbW91bnQgPSBHZW5lcmFsVG90YWxBbW91bnQgLSBwZXJTYWxlOwogICAgICB9IGVsc2UgewogICAgICAgIHdvU2VsZWN0ZWRQcm9kdWN0QW1vdW50ID0gVG90YWxBbW91bnQgLSBwZXJPcmlnaW5hbCAqIHRoaXMub2xkUXVhbnRpdHlWYWx1ZTsKICAgICAgICB3b1NlbGVjdGVkUHJvZHVjdERpc2NvdW50ID0gRGlzY291bnRBbW91bnQgLSBwZXJEaXNjb3VudCAqIHRoaXMub2xkUXVhbnRpdHlWYWx1ZTsKICAgICAgICB3b1NlbGVjdGVkUHJvZHVjdEdlbmVyYWxUb3RhbCA9IEdlbmVyYWxUb3RhbEFtb3VudCAtIHBlclNhbGUgKiB0aGlzLm9sZFF1YW50aXR5VmFsdWU7CiAgICAgICAgdGhpcy5zdW1tYXJ5LlRvdGFsQW1vdW50ID0gd29TZWxlY3RlZFByb2R1Y3RBbW91bnQgKyBwZXJPcmlnaW5hbCAqIG5ld1F1YW50aXR5OwogICAgICAgIHRoaXMuc3VtbWFyeS5EaXNjb3VudEFtb3VudCA9IHdvU2VsZWN0ZWRQcm9kdWN0RGlzY291bnQgKyBwZXJEaXNjb3VudCAqIG5ld1F1YW50aXR5OwogICAgICAgIHRoaXMuc3VtbWFyeS5HZW5lcmFsVG90YWxBbW91bnQgPSB3b1NlbGVjdGVkUHJvZHVjdEdlbmVyYWxUb3RhbCArIHBlclNhbGUgKiBuZXdRdWFudGl0eTsKICAgICAgfQogICAgfSwKICAgIHJlbW92ZUl0ZW06IGZ1bmN0aW9uIHJlbW92ZUl0ZW0oaXRlbSkgewogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgicmVtb3ZlQ2FydEl0ZW0iLCBpdGVtLmlkKTsKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goImdldENhcnQiLCBpdGVtKTsKICAgICAgdGhpcy51cGRhdGVTdW1tYXJ5KGl0ZW0uUXVhbnRpdHksIGl0ZW0uT3JpZ2luYWxQcmljZSwgaXRlbS5TYWxlUHJpY2UsIGl0ZW0uRGlzY291bnRBbW91bnQsIHRydWUpOwogICAgfQogIH0KfTs="},{"version":3,"sources":["basket.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n    <div class=\"basket\">\n        <div class=\"container\">  \n            <div class=\"title\">\n              <span>ALIŞVERİŞ SEPETİM</span>\n            </div>\n            <div class=\"products\">\n                <div class=\"product-item border-top\" v-for=\"item in cart\" :key=\"item.id\">\n                    <div class=\"product-img\">\n                        <img :src=\"item.ResizedImage\">\n                    </div>\n                    <div class=\"product-detail\">\n                        <div class=\"brand font-weight-bold\">{{ (item.Brand).toUpperCase() }}</div>\n                        <div class=\"display-name\">{{ item.DisplayName }}</div>\n                        <div class=\"price-area\">\n                            <div class=\"discount-rate\">-% {{ item.DiscountRate }}</div>\n                            <div class=\"amount\">\n                                <div class=\"base-price\">\n                                    {{ (Math.round((item.OriginalPrice)*100 )/100).toFixed(2)}} TL\n                                </div>\n                                <div class=\"sale-price font-weight-bold\">\n                                    {{ (Math.round((item.SalePrice)*100 )/100).toFixed(2)}} TL\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"color\">\n                            <span class=\"font-weight-bold\">Renk</span>\n                            <span class=\"text\">{{ item.Color }}</span>\n                        </div>\n                        <div class=\"size\">\n                            <span class=\"font-weight-bold\">Beden</span>\n                            <span class=\"text\">{{ item.Size }}</span>\n                        </div>\n                        <div class=\"quantity\">\n                            <span class=\"font-weight-bold\">Adet</span>\n                            <span class=\"text\">\n                                <select class=\"form-control\" v-model=\"item.Quantity\" :name=\"'item_'+item.id\"\n                                v-on:change=\"selectedQuantity($event,item)\" @click=\"oldSelectionQuantity($event)\">\n                                    <option v-for=\"(i) in 10\" :key=\"i\" :value=\"i\">\n                                        {{ i }} Adet \n                                    </option>\n                                </select>\n                            </span>\n                        </div>\n                    </div>\n                    <div class=\"remove-item\">\n                        <button class=\"btn btn-outline-danger\" @click=\"removeItem(item)\">Sil</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n      </div>\n</template>\n\n<script>\nexport default {\n  name: 'Basket',\n  props: ['currency'],\n  data() {\n      return {\n          oldQuantityValue: \"\"\n      }\n  },\n  computed: {\n    cart() {\n      return this.$store.state.cart;\n    },\n    selectedCart() {\n        return this.$store.state.selectedCart;\n    },\n    summary() {\n      return this.$store.state.summary;\n    }\n  },\n  mounted() {\n    this.$store.dispatch(\"getCart\");\n  },\n   methods: {\n       oldSelectionQuantity(oldValue) {\n           this.oldQuantityValue = oldValue.target.value;\n       },\n       selectedQuantity(e,item) {\n            let value = e.target.value;\n            let perOriginalPrice = item.OriginalPrice/this.oldQuantityValue;\n            let perSalePrice = item.SalePrice/this.oldQuantityValue;\n            let perDiscountAmount = item.DiscountAmount/this.oldQuantityValue;\n            /** update basket price*/\n            item.OriginalPrice = perOriginalPrice*value;\n            item.SalePrice = perSalePrice*value;\n            item.DiscountAmount = perDiscountAmount*value;\n            \n            this.$store.dispatch(\"selectedCart\", item);\n            this.updateSummary(value, perOriginalPrice, perSalePrice, perDiscountAmount);\n            \n\n       },\n       updateSummary(newQuantity, perOriginal, perSale, perDiscount, isAfterDelete) {\n            let TotalAmount = this.summary.TotalAmount; \n            let DiscountAmount = this.summary.DiscountAmount;\n            let GeneralTotalAmount = this.summary.GeneralTotalAmount;\n            let woSelectedProductAmount = 0;\n            let woSelectedProductDiscount = 0;\n            let woSelectedProductGeneralTotal = 0;\n            if(isAfterDelete) {\n                this.summary.TotalAmount = TotalAmount - perOriginal;\n                this.summary.DiscountAmount = DiscountAmount - perDiscount;\n                this.summary.GeneralTotalAmount = GeneralTotalAmount - perSale;\n            } else {\n                woSelectedProductAmount = (TotalAmount - (perOriginal*(this.oldQuantityValue)));\n                woSelectedProductDiscount = (DiscountAmount - (perDiscount*(this.oldQuantityValue)));\n                woSelectedProductGeneralTotal = (GeneralTotalAmount - (perSale*(this.oldQuantityValue)));\n                this.summary.TotalAmount = woSelectedProductAmount + (perOriginal*newQuantity);\n                this.summary.DiscountAmount = woSelectedProductDiscount + (perDiscount*newQuantity);\n                this.summary.GeneralTotalAmount = woSelectedProductGeneralTotal + (perSale*newQuantity);\n            }\n       },\n       removeItem(item) {\n            this.$store.dispatch(\"removeCartItem\", item.id);\n            this.$store.dispatch(\"getCart\", item);\n            this.updateSummary(item.Quantity, item.OriginalPrice, item.SalePrice, item.DiscountAmount, true);\n\n       }\n   }\n}\n</script>\n\n<style lang=\"scss\">\n    @import \"../assets/scss/basket.scss\";\n</style>"],"sourceRoot":"src/components"}]}