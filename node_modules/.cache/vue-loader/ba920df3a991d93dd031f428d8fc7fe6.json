{"remainingRequest":"/Users/aysegul.kaya/Desktop/carts-summary/carts-summary-transactions/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/aysegul.kaya/Desktop/carts-summary/carts-summary-transactions/src/components/basket.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/aysegul.kaya/Desktop/carts-summary/carts-summary-transactions/src/components/basket.vue","mtime":1640119269698},{"path":"/Users/aysegul.kaya/Desktop/carts-summary/carts-summary-transactions/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/aysegul.kaya/Desktop/carts-summary/carts-summary-transactions/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/aysegul.kaya/Desktop/carts-summary/carts-summary-transactions/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/aysegul.kaya/Desktop/carts-summary/carts-summary-transactions/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQmFza2V0JywKICBwcm9wczogWydjdXJyZW5jeSddLAogIGRhdGEoKSB7CiAgICAgIHJldHVybiB7CiAgICAgICAgICBvbGRRdWFudGl0eVZhbHVlOiAiIgogICAgICB9CiAgfSwKICBjb21wdXRlZDogewogICAgY2FydCgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmNhcnQ7CiAgICB9LAogICAgc2VsZWN0ZWRDYXJ0KCkgewogICAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5zZWxlY3RlZENhcnQ7CiAgICB9LAogICAgc3VtbWFyeSgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLnN1bW1hcnk7CiAgICB9CiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goImdldENhcnQiKTsKICB9LAogICBtZXRob2RzOiB7CiAgICAgICBvbGRTZWxlY3Rpb25RdWFudGl0eShvbGRWYWx1ZSkgewogICAgICAgICAgIHRoaXMub2xkUXVhbnRpdHlWYWx1ZSA9IG9sZFZhbHVlLnRhcmdldC52YWx1ZTsKICAgICAgIH0sCiAgICAgICBzZWxlY3RlZFF1YW50aXR5KGUsaXRlbSkgewogICAgICAgICAgICBsZXQgdmFsdWUgPSBlLnRhcmdldC52YWx1ZTsKICAgICAgICAgICAgbGV0IHBlck9yaWdpbmFsUHJpY2UgPSBpdGVtLk9yaWdpbmFsUHJpY2UvdGhpcy5vbGRRdWFudGl0eVZhbHVlOwogICAgICAgICAgICBsZXQgcGVyU2FsZVByaWNlID0gaXRlbS5TYWxlUHJpY2UvdGhpcy5vbGRRdWFudGl0eVZhbHVlOwogICAgICAgICAgICBsZXQgcGVyRGlzY291bnRBbW91bnQgPSBpdGVtLkRpc2NvdW50QW1vdW50L3RoaXMub2xkUXVhbnRpdHlWYWx1ZTsKICAgICAgICAgICAgLyoqIHVwZGF0ZSBiYXNrZXQgcHJpY2UqLwogICAgICAgICAgICBpdGVtLk9yaWdpbmFsUHJpY2UgPSBwZXJPcmlnaW5hbFByaWNlKnZhbHVlOwogICAgICAgICAgICBpdGVtLlNhbGVQcmljZSA9IHBlclNhbGVQcmljZSp2YWx1ZTsKICAgICAgICAgICAgaXRlbS5EaXNjb3VudEFtb3VudCA9IHBlckRpc2NvdW50QW1vdW50KnZhbHVlOwogICAgICAgICAgICAKICAgICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goInNlbGVjdGVkQ2FydCIsIGl0ZW0pOwogICAgICAgICAgICB0aGlzLnVwZGF0ZVN1bW1hcnkodmFsdWUsIHBlck9yaWdpbmFsUHJpY2UsIHBlclNhbGVQcmljZSwgcGVyRGlzY291bnRBbW91bnQpOwogICAgICAgICAgICAKCiAgICAgICB9LAogICAgICAgdXBkYXRlU3VtbWFyeShuZXdRdWFudGl0eSwgcGVyT3JpZ2luYWwsIHBlclNhbGUsIHBlckRpc2NvdW50LCBpc0FmdGVyRGVsZXRlKSB7CiAgICAgICAgICAgIGxldCBUb3RhbEFtb3VudCA9IHRoaXMuc3VtbWFyeS5Ub3RhbEFtb3VudDsgCiAgICAgICAgICAgIGxldCBEaXNjb3VudEFtb3VudCA9IHRoaXMuc3VtbWFyeS5EaXNjb3VudEFtb3VudDsKICAgICAgICAgICAgbGV0IEdlbmVyYWxUb3RhbEFtb3VudCA9IHRoaXMuc3VtbWFyeS5HZW5lcmFsVG90YWxBbW91bnQ7CiAgICAgICAgICAgIGxldCB3b1NlbGVjdGVkUHJvZHVjdEFtb3VudCA9IDA7CiAgICAgICAgICAgIGxldCB3b1NlbGVjdGVkUHJvZHVjdERpc2NvdW50ID0gMDsKICAgICAgICAgICAgbGV0IHdvU2VsZWN0ZWRQcm9kdWN0R2VuZXJhbFRvdGFsID0gMDsKICAgICAgICAgICAgaWYoaXNBZnRlckRlbGV0ZSkgewogICAgICAgICAgICAgICAgdGhpcy5zdW1tYXJ5LlRvdGFsQW1vdW50ID0gVG90YWxBbW91bnQgLSBwZXJPcmlnaW5hbDsKICAgICAgICAgICAgICAgIHRoaXMuc3VtbWFyeS5EaXNjb3VudEFtb3VudCA9IERpc2NvdW50QW1vdW50IC0gcGVyRGlzY291bnQ7CiAgICAgICAgICAgICAgICB0aGlzLnN1bW1hcnkuR2VuZXJhbFRvdGFsQW1vdW50ID0gR2VuZXJhbFRvdGFsQW1vdW50IC0gcGVyU2FsZTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHdvU2VsZWN0ZWRQcm9kdWN0QW1vdW50ID0gKFRvdGFsQW1vdW50IC0gKHBlck9yaWdpbmFsKih0aGlzLm9sZFF1YW50aXR5VmFsdWUpKSk7CiAgICAgICAgICAgICAgICB3b1NlbGVjdGVkUHJvZHVjdERpc2NvdW50ID0gKERpc2NvdW50QW1vdW50IC0gKHBlckRpc2NvdW50Kih0aGlzLm9sZFF1YW50aXR5VmFsdWUpKSk7CiAgICAgICAgICAgICAgICB3b1NlbGVjdGVkUHJvZHVjdEdlbmVyYWxUb3RhbCA9IChHZW5lcmFsVG90YWxBbW91bnQgLSAocGVyU2FsZSoodGhpcy5vbGRRdWFudGl0eVZhbHVlKSkpOwogICAgICAgICAgICAgICAgdGhpcy5zdW1tYXJ5LlRvdGFsQW1vdW50ID0gd29TZWxlY3RlZFByb2R1Y3RBbW91bnQgKyAocGVyT3JpZ2luYWwqbmV3UXVhbnRpdHkpOwogICAgICAgICAgICAgICAgdGhpcy5zdW1tYXJ5LkRpc2NvdW50QW1vdW50ID0gd29TZWxlY3RlZFByb2R1Y3REaXNjb3VudCArIChwZXJEaXNjb3VudCpuZXdRdWFudGl0eSk7CiAgICAgICAgICAgICAgICB0aGlzLnN1bW1hcnkuR2VuZXJhbFRvdGFsQW1vdW50ID0gd29TZWxlY3RlZFByb2R1Y3RHZW5lcmFsVG90YWwgKyAocGVyU2FsZSpuZXdRdWFudGl0eSk7CiAgICAgICAgICAgIH0KICAgICAgIH0sCiAgICAgICByZW1vdmVJdGVtKGl0ZW0pIHsKICAgICAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goInJlbW92ZUNhcnRJdGVtIiwgaXRlbS5pZCk7CiAgICAgICAgICAgIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJnZXRDYXJ0IiwgaXRlbSk7CiAgICAgICAgICAgIHRoaXMudXBkYXRlU3VtbWFyeShpdGVtLlF1YW50aXR5LCBpdGVtLk9yaWdpbmFsUHJpY2UsIGl0ZW0uU2FsZVByaWNlLCBpdGVtLkRpc2NvdW50QW1vdW50LCB0cnVlKTsKCiAgICAgICB9CiAgIH0KfQo="},{"version":3,"sources":["basket.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"basket.vue","sourceRoot":"src/components","sourcesContent":["<template>\n    <div class=\"basket\">\n        <div class=\"container\">  \n            <div class=\"title\">\n              <span>ALIŞVERİŞ SEPETİM</span>\n            </div>\n            <div class=\"products\">\n                <div class=\"product-item border-top\" v-for=\"item in cart\" :key=\"item.id\">\n                    <div class=\"product-img\">\n                        <img :src=\"item.ResizedImage\">\n                    </div>\n                    <div class=\"product-detail\">\n                        <div class=\"brand font-weight-bold\">{{ (item.Brand).toUpperCase() }}</div>\n                        <div class=\"display-name\">{{ item.DisplayName }}</div>\n                        <div class=\"price-area\">\n                            <div class=\"discount-rate\">-% {{ item.DiscountRate }}</div>\n                            <div class=\"amount\">\n                                <div class=\"base-price\">\n                                    {{ (Math.round((item.OriginalPrice)*100 )/100).toFixed(2)}} TL\n                                </div>\n                                <div class=\"sale-price font-weight-bold\">\n                                    {{ (Math.round((item.SalePrice)*100 )/100).toFixed(2)}} TL\n                                </div>\n                            </div>\n                        </div>\n                        <div class=\"color\">\n                            <span class=\"font-weight-bold\">Renk</span>\n                            <span class=\"text\">{{ item.Color }}</span>\n                        </div>\n                        <div class=\"size\">\n                            <span class=\"font-weight-bold\">Beden</span>\n                            <span class=\"text\">{{ item.Size }}</span>\n                        </div>\n                        <div class=\"quantity\">\n                            <span class=\"font-weight-bold\">Adet</span>\n                            <span class=\"text\">\n                                <select class=\"form-control\" v-model=\"item.Quantity\" :name=\"'item_'+item.id\"\n                                v-on:change=\"selectedQuantity($event,item)\" @click=\"oldSelectionQuantity($event)\">\n                                    <option v-for=\"(i) in 10\" :key=\"i\" :value=\"i\">\n                                        {{ i }} Adet \n                                    </option>\n                                </select>\n                            </span>\n                        </div>\n                    </div>\n                    <div class=\"remove-item\">\n                        <button class=\"btn btn-outline-danger\" @click=\"removeItem(item)\">Sil</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n      </div>\n</template>\n\n<script>\nexport default {\n  name: 'Basket',\n  props: ['currency'],\n  data() {\n      return {\n          oldQuantityValue: \"\"\n      }\n  },\n  computed: {\n    cart() {\n      return this.$store.state.cart;\n    },\n    selectedCart() {\n        return this.$store.state.selectedCart;\n    },\n    summary() {\n      return this.$store.state.summary;\n    }\n  },\n  mounted() {\n    this.$store.dispatch(\"getCart\");\n  },\n   methods: {\n       oldSelectionQuantity(oldValue) {\n           this.oldQuantityValue = oldValue.target.value;\n       },\n       selectedQuantity(e,item) {\n            let value = e.target.value;\n            let perOriginalPrice = item.OriginalPrice/this.oldQuantityValue;\n            let perSalePrice = item.SalePrice/this.oldQuantityValue;\n            let perDiscountAmount = item.DiscountAmount/this.oldQuantityValue;\n            /** update basket price*/\n            item.OriginalPrice = perOriginalPrice*value;\n            item.SalePrice = perSalePrice*value;\n            item.DiscountAmount = perDiscountAmount*value;\n            \n            this.$store.dispatch(\"selectedCart\", item);\n            this.updateSummary(value, perOriginalPrice, perSalePrice, perDiscountAmount);\n            \n\n       },\n       updateSummary(newQuantity, perOriginal, perSale, perDiscount, isAfterDelete) {\n            let TotalAmount = this.summary.TotalAmount; \n            let DiscountAmount = this.summary.DiscountAmount;\n            let GeneralTotalAmount = this.summary.GeneralTotalAmount;\n            let woSelectedProductAmount = 0;\n            let woSelectedProductDiscount = 0;\n            let woSelectedProductGeneralTotal = 0;\n            if(isAfterDelete) {\n                this.summary.TotalAmount = TotalAmount - perOriginal;\n                this.summary.DiscountAmount = DiscountAmount - perDiscount;\n                this.summary.GeneralTotalAmount = GeneralTotalAmount - perSale;\n            } else {\n                woSelectedProductAmount = (TotalAmount - (perOriginal*(this.oldQuantityValue)));\n                woSelectedProductDiscount = (DiscountAmount - (perDiscount*(this.oldQuantityValue)));\n                woSelectedProductGeneralTotal = (GeneralTotalAmount - (perSale*(this.oldQuantityValue)));\n                this.summary.TotalAmount = woSelectedProductAmount + (perOriginal*newQuantity);\n                this.summary.DiscountAmount = woSelectedProductDiscount + (perDiscount*newQuantity);\n                this.summary.GeneralTotalAmount = woSelectedProductGeneralTotal + (perSale*newQuantity);\n            }\n       },\n       removeItem(item) {\n            this.$store.dispatch(\"removeCartItem\", item.id);\n            this.$store.dispatch(\"getCart\", item);\n            this.updateSummary(item.Quantity, item.OriginalPrice, item.SalePrice, item.DiscountAmount, true);\n\n       }\n   }\n}\n</script>\n\n<style lang=\"scss\">\n    @import \"../assets/scss/basket.scss\";\n</style>"]}]}